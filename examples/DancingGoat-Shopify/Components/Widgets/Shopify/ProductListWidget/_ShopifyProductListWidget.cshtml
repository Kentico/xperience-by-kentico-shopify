@using DancingGoat.Components.Widgets.Shopify.ProductListWidget
@model ShopifyProductListViewModel

@if (!string.IsNullOrEmpty(Model.Title))
{
    <h2>@Model.Title</h2>
}
<div class="col-md-12">
    <div class="content-wrapper" style="padding: 0 2.4rem 2em 2.4rem;">
        <div class="row" style="display: flex; flex-wrap: wrap;">
            @foreach(var product in Model.Products)
            {
                <div class="col-md-4" style="padding: 1rem 0.6rem;">
                    <div class="product-card">
                        <a href="@product.ShopifyUrl" style="text-decoration: none">
                            <div style="text-align: center;">
                                <img src="@product.Image" alt="@product.ImageAlt" loading="lazy">
                                <h3>@product.Name</h3>
                                <p style="overflow: hidden;
                                        display: -webkit-box;
                                        -webkit-line-clamp: 4;
                                        -webkit-box-orient: vertical;
                                        height: 100px;">
                                    @HTMLHelper.StripTags(product.Description)
                                </p>
                                <p>
                                    @if (product.ListPrice != null && !product.HasMoreVariants)
                                    {
                                        <s>@(product.ListPriceFormatted)</s>
                                    }
                                    else if (product.HasMoreVariants)
                                    {
                                        <span>@HtmlLocalizer["from"]</span>
                                    }
                                    <strong>@product.PriceFormatted</strong>
                                </p>
                                <br />
                                <span class="btn">
                                    @HtmlLocalizer["Detail"]
                                </span>
                            </div>
                        </a>
                    </div>
                </div>
            }
        </div>
    </div>
</div>